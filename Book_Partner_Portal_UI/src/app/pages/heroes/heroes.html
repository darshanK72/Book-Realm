<div class="animate-fade-in-up space-y-6">
  <div class="flex items-center justify-between">
    <div>
      <h1 class="text-2xl font-black text-slate-800 tracking-tight">Hero Section Management</h1>
      <p class="text-slate-500 font-medium">
        Manage premium hero carousels and their target destinations.
      </p>
    </div>
    <div class="flex gap-3">
      <button
        (click)="loadHeroes()"
        class="h-11 px-4 bg-white border border-slate-200 text-slate-600 rounded-2xl hover:bg-slate-50 transition-all font-bold text-xs flex items-center gap-2"
        [disabled]="loading"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2.5"
          [class.animate-spin]="loading"
        >
          <path d="M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8" />
          <path d="M21 3v5h-5" />
        </svg>
        REFRESH
      </button>
      <button
        (click)="openCreateModal()"
        class="h-11 px-6 bg-indigo-600 text-white rounded-2xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-500/20 flex items-center gap-2 font-bold text-xs uppercase tracking-widest"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="3"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M5 12h14" />
          <path d="M12 5v14" />
        </svg>
        Create Hero
      </button>
    </div>
  </div>

  <!-- Loading State -->
  <div
    *ngIf="loading && heroes.length === 0"
    class="flex flex-col items-center justify-center py-32 space-y-6"
  >
    <div class="relative">
      <div class="h-16 w-16 border-4 border-indigo-500/20 rounded-full"></div>
      <div
        class="absolute inset-0 h-16 w-16 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"
      ></div>
    </div>
    <div class="text-center">
      <p class="text-slate-800 font-black text-lg">Synchronizing Heroes</p>
      <p class="text-slate-400 text-sm font-medium">
        Fetching the latest carousel configurations...
      </p>
    </div>
  </div>

  <!-- Error State -->
  <div
    *ngIf="error"
    class="bg-rose-50 border-2 border-rose-100 text-rose-600 p-5 rounded-3xl flex items-center gap-4 animate-fade-in"
  >
    <div
      class="h-10 w-10 rounded-2xl bg-white flex items-center justify-center text-rose-500 shadow-sm border border-rose-100 flex-shrink-0"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2.5"
      >
        <circle cx="12" cy="12" r="10" />
        <line x1="12" y1="8" x2="12" y2="12" />
        <line x1="12" y1="16" x2="12.01" y2="16" />
      </svg>
    </div>
    <div class="flex-1">
      <p class="font-bold text-sm">Synchronization Failed</p>
      <p class="text-xs opacity-80">{{ error }}</p>
    </div>
    <button
      (click)="loadHeroes()"
      class="px-4 py-2 bg-rose-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-rose-700 transition-all"
    >
      Retry Now
    </button>
  </div>

  <!-- Heroes List -->
  <div
    *ngIf="!loading || heroes.length > 0"
    class="bg-white rounded-3xl border border-slate-100 shadow-sm flex flex-col overflow-hidden"
  >
    <div *ngIf="heroes.length > 0" class="divide-y divide-slate-100">
      <div
        *ngFor="let hero of pagedHeroes"
        class="group p-6 hover:bg-slate-50/50 transition-all duration-300"
      >
        <div class="flex flex-col md:flex-row gap-6">
          <!-- Image Preview -->
          <div
            class="md:w-72 aspect-[21/9] md:aspect-auto md:h-40 bg-slate-100 rounded-2xl relative overflow-hidden flex-shrink-0 group-hover:shadow-lg transition-all duration-500 ring-1 ring-slate-100"
          >
            <img
              *ngIf="hero.heroImages.length"
              [src]="hero.heroImages[0]"
              class="h-full w-full object-cover group-hover:scale-110 transition-transform duration-700"
            />
            <div
              *ngIf="!hero.heroImages.length"
              class="h-full w-full flex flex-col items-center justify-center text-slate-300"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="40"
                height="40"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
              >
                <rect width="18" height="18" x="3" y="3" rx="2" ry="2" />
                <circle cx="9" cy="9" r="2" />
                <path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21" />
              </svg>
            </div>

            <!-- Image Count Badge -->
            <div class="absolute bottom-3 left-3">
              <span
                class="bg-slate-900/80 backdrop-blur-md text-white px-3 py-1 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 ring-1 ring-white/20"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="10"
                  height="10"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="3"
                >
                  <rect width="18" height="18" x="3" y="3" rx="2" ry="2" />
                  <line x1="3" y1="9" x2="21" y2="9" />
                  <line x1="9" y1="21" x2="9" y2="9" />
                </svg>
                {{ hero.heroImages.length }} CRITICAL ASSETS
              </span>
            </div>
          </div>

          <!-- Content Area -->
          <div class="flex-1 flex flex-col justify-between">
            <div>
              <div class="flex items-start justify-between mb-3">
                <div>
                  <h3
                    class="font-black text-slate-800 text-xl tracking-tight leading-tight group-hover:text-indigo-600 transition-colors"
                  >
                    {{ hero.placeHolder || 'IDENTIFICATION PENDING' }}
                  </h3>
                  <div class="flex items-center gap-3 mt-2">
                    <div
                      class="flex items-center gap-1.5 px-2.5 py-1 bg-slate-100 rounded-lg text-slate-500 border border-slate-200"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="12"
                        height="12"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2.5"
                      >
                        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" />
                        <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" />
                      </svg>
                      <span class="font-mono text-[10px] font-bold">{{ hero.clickUrl }}</span>
                    </div>
                  </div>
                </div>
                <div class="flex items-center gap-2">
                  <button
                    (click)="openEditModal(hero)"
                    class="h-10 w-10 flex items-center justify-center text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all border border-transparent hover:border-indigo-100"
                    title="Edit Properties"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="20"
                      height="20"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z" />
                    </svg>
                  </button>
                  <button
                    (click)="deleteHero(hero.id)"
                    class="h-10 w-10 flex items-center justify-center text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-xl transition-all border border-transparent hover:border-rose-100"
                    title="Terminate Section"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="20"
                      height="20"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path d="M3 6h18" />
                      <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                      <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                      <line x1="10" y1="11" x2="10" y2="17" />
                      <line x1="14" y1="11" x2="14" y2="17" />
                    </svg>
                  </button>
                </div>
              </div>

              <!-- Thumbnail Bar -->
              <div class="flex flex-wrap gap-2 mt-4">
                <div
                  *ngFor="let url of hero.heroImages"
                  class="h-10 w-10 rounded-xl bg-slate-50 border-2 border-slate-100 overflow-hidden hover:border-indigo-400 transition-all cursor-zoom-in shadow-sm hover:translate-y-[-2px]"
                >
                  <img [src]="url" class="h-full w-full object-cover" />
                </div>
              </div>
            </div>

            <div class="flex items-center justify-between mt-6">
              <p class="text-[9px] text-slate-300 font-bold uppercase tracking-[0.3em]">
                Unique Identifier: {{ hero.id }}
              </p>
              <span
                class="text-[10px] font-black text-indigo-500 uppercase tracking-widest px-2 py-0.5 bg-indigo-50 rounded-md ring-1 ring-indigo-200/50"
                >ACTIVE PRODUCTION</span
              >
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div
      *ngIf="heroes.length === 0 && !loading"
      class="py-32 flex flex-col items-center justify-center space-y-6"
    >
      <div
        class="h-32 w-32 bg-indigo-50 rounded-[2.5rem] rotate-12 flex items-center justify-center text-indigo-200 border-2 border-dashed border-indigo-200 shadow-inner"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="64"
          height="64"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="1.5"
          class="-rotate-12"
        >
          <path
            d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
          />
        </svg>
      </div>
      <div class="text-center space-y-2">
        <p class="text-slate-800 font-black text-2xl tracking-tight">Zero Hero Sections</p>
        <p class="text-slate-400 text-sm font-medium max-w-sm mx-auto">
          Create premium carousel experiences to showcase your featured catalog collections.
        </p>
      </div>
      <button
        (click)="openCreateModal()"
        class="px-8 py-3 bg-indigo-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-indigo-500/30 hover:bg-indigo-700 active:scale-95 transition-all"
      >
        Initialize First Section
      </button>
    </div>

    <!-- Pagination -->
    <app-pagination
      *ngIf="heroes.length > 0"
      [totalItems]="totalItems"
      [pageSize]="pageSize"
      [currentPage]="currentPage"
      (pageChange)="handlePageChange($event)"
    ></app-pagination>
  </div>
</div>

<!-- Hero Modal outside animated div -->
<app-hero-modal
  [isOpen]="isModalOpen"
  [isEdit]="isEditMode"
  [hero]="selectedHero"
  (onSave)="handleSaveHero($event)"
  (onClose)="closeModal()"
></app-hero-modal>
